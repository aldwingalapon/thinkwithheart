function learndash_course_edit_page_billing_cycle_javascript() { var e = jQuery("body.post-type-sfwd-courses .sfwd_options select[name=course_price_billing_t3]"), t = e.parent(), s = e.val(); function n(e) { return '<div id="sfwd-courses_course_price_billing_cycle_instructions"><label class="sfwd_help_text">' + e + "</label></div>" } function i() { switch (s) { case "D": message = sfwd_data.valid_recurring_paypal_day_range, t.append(n(message)); break; case "W": message = sfwd_data.valid_recurring_paypal_week_range, t.append(n(message)); break; case "M": message = sfwd_data.valid_recurring_paypal_month_range, t.append(n(message)); break; case "Y": message = sfwd_data.valid_recurring_paypal_year_range, t.append(n(message)) } } i(), e.change(function (t) { s = e.val(), jQuery("#sfwd-courses_course_price_billing_cycle_instructions").remove(), i() }) } jQuery(document).ready(function () { "undefined" != typeof learndash_admin_settings_data && void 0 !== learndash_admin_settings_data.json ? (learndash_admin_settings_data = learndash_admin_settings_data.json.replace(/&quot;/g, '"'), learndash_admin_settings_data = jQuery.parseJSON(learndash_admin_settings_data)) : learndash_admin_settings_data = {}, learndash_course_edit_page_billing_cycle_javascript(), jQuery('.sfwd_options .sfwd_option_input select[data-ld-select2="1"]').length && jQuery('.sfwd_options .sfwd_option_input select[data-ld-select2="1"]').each(function (e, t) { var s = jQuery(t).parent("span.ld-select"); void 0 !== s && jQuery(s).addClass("ld-select2"); var n = jQuery(t).attr("placeholder"); void 0 !== n && "" !== n || (n = jQuery("option[value='']", t).text()), void 0 !== n && "" !== n || (n = "Select an option"), jQuery(t).select2({ placeholder: n, width: "resolve", dir: window.isRtl ? "rtl" : "", dropdownAutoWidth: !0 }) }), jQuery(".sfwd_input_type_colorpicker .learndash-section-field-colorpicker").length && jQuery(".sfwd_input_type_colorpicker .learndash-section-field-colorpicker").wpColorPicker(), jQuery(".sfwd_options .sfwd_input_type_select-edit-delete").length && jQuery(".sfwd_options .sfwd_input_type_select-edit-delete").each(function (e, t) { var s = jQuery(t).find(".spinner"); s.css("float", "none"), jQuery(t).find("select").change(function (e) { var s = jQuery(t).find("select").val(); if (jQuery(t).find(".message").hide(), s.length) { var n = jQuery(t).find("select option:selected").text(); jQuery(t).find('input[type="text"]').val(n), jQuery(t).find('input[type="text"]').attr("disabled", !1), jQuery(t).find('input[type="button"]').attr("disabled", !1) } else jQuery(t).find('input[type="text"]').val(""), jQuery(t).find('input[type="button"]').attr("disabled", !0), jQuery(t).find('input[type="text"]').attr("disabled", !0) }), jQuery(t).find('input[type="button"]').click(function (e) { var n = jQuery(e.currentTarget).data("action"), i = jQuery(t).find("select").val(), a = jQuery(t).find('input[type="text"]').val(), r = jQuery(t).find(".ajax_data").data("ajax"); void 0 !== r && (r.field_action = n, r.field_value = i, r.field_text = a, s.css("visibility", "visible"), jQuery.ajax({ type: "POST", url: ajaxurl, dataType: "json", cache: !1, data: r, error: function (e, t, s) { }, success: function (e) { s.css("visibility", "hidden"), void 0 !== e.status && !0 === e.status && ("update" == n ? jQuery(t).find('select option[value="' + i + '"]').text(a) : "delete" == n && jQuery(t).find('select option[value="' + i + '"]').remove(), jQuery(t).find("select").val(""), jQuery(t).find('input[type="text"]').val("")), void 0 !== e.message && (jQuery(t).find(".message").html(e.message), jQuery(t).find(".message").show().fadeOut(3e3)) } })) }) }), jQuery(".sfwd_options .learndash-section-field-media-upload_wrapper").length && jQuery(".sfwd_options .learndash-section-field-media-upload_wrapper").each(function (e, t) { var s = jQuery(t).find(".learndash-section-field-media-upload"), n = jQuery(t).find("img.image-preview"); jQuery(t).find('input[type="button"].image-upload-button').click(function (e) { var t; e.preventDefault(), t ? t.open() : ((t = wp.media.frames.file_frame = wp.media({ title: "Select a image to upload", button: { text: "Use this image" }, multiple: !1 })).on("select", function () { attachment = t.state().get("selection").first().toJSON(), jQuery(n).attr("src", attachment.url).css("width", "auto"), jQuery(s).val(attachment.id) }), t.open()) }), jQuery(t).find('input[type="button"].image-remove-button').click(function (e) { e.preventDefault(), jQuery(s).val(""); var t = jQuery(n).data("default"); void 0 !== t ? jQuery(n).attr("src", t) : jQuery(n).attr("src", "") }) }), jQuery(".sfwd_options").on("ld_setting_switch_changed_early", function (e) { if (jQuery(e.ld_trigger_data.element).hasClass("learndash-section-field-checkbox-switch")) { var t = jQuery(e.ld_trigger_data.element).parents(".ld-switch-wrapper"); if (void 0 !== t && jQuery("span.label-text-multple", t).length) if (jQuery("span.label-text-multple", t).find(".ld-label-text").hide(), "checked" === e.ld_trigger_data.state) { var s = jQuery(e.ld_trigger_data.element).val(); jQuery("span.label-text-multple", t).find(".ld-label-text-" + s).show() } else jQuery("span.label-text-multple", t).find("span.ld-label-text-").show() } }), jQuery(".sfwd_options input.learndash-section-field-checkbox-switch").length && jQuery(".sfwd_options input.learndash-section-field-checkbox-switch").each(function (e, t) { jQuery(t).click(function (e) { checked_state = "unchecked", jQuery(e.currentTarget).is(":checked") && (checked_state = "checked"); var t = { type: "ld_setting_switch_changed_early", element: e.currentTarget, class: s, state: checked_state }; jQuery(".sfwd_options").trigger({ type: "ld_setting_switch_changed_early", ld_trigger_data: t }); var s = jQuery(e.currentTarget).data("settings-sub-trigger"); void 0 !== s && jQuery(".sfwd_options ." + s).length && (t.type = "ld_setting_switch_sub_changed_late", "checked" === checked_state ? jQuery(".sfwd_options ." + s).slideDown(500, function () { jQuery(".sfwd_options ." + s).removeClass("ld-settings-sub-state-closed"), jQuery(".sfwd_options ." + s).addClass("ld-settings-sub-state-open"), jQuery(".sfwd_options").trigger({ type: t.type, ld_trigger_data: t }) }) : jQuery(".sfwd_options ." + s).slideUp(400, function () { jQuery(".sfwd_options ." + s).addClass("ld-settings-sub-state-closed"), jQuery(".sfwd_options ." + s).removeClass("ld-settings-sub-state-open"), jQuery(".sfwd_options").trigger({ type: t.type, ld_trigger_data: t }) })); var n = jQuery(e.currentTarget).data("settings-inner-trigger"); void 0 !== n && jQuery(".sfwd_options ." + n).length && (t.type = "ld_setting_switch_inner_changed_late", "checked" === checked_state ? jQuery(".sfwd_options ." + n).slideDown(500, function () { jQuery(".sfwd_options ." + n).removeClass("ld-settings-inner-state-closed"), jQuery(".sfwd_options ." + n).addClass("ld-settings-inner-state-open"), jQuery(".sfwd_options").trigger({ type: t.type, ld_trigger_data: t }) }) : jQuery(".sfwd_options ." + n).slideUp(400, function () { jQuery(".sfwd_options ." + n).addClass("ld-settings-inner-state-closed"), jQuery(".sfwd_options ." + n).removeClass("ld-settings-inner-state-open"), jQuery(".sfwd_options").trigger({ type: t.type, ld_trigger_data: t }) })), e.stopPropagation() }) }), jQuery(".sfwd_options select.learndash-section-field-select").length && jQuery(".sfwd_options select.learndash-section-field-select").each(function (e, t) { jQuery(t).change(function (e) { var t = jQuery(e.currentTarget).val(); void 0 !== t && "-1" != t || (t = ""); var s = { element: e.currentTarget, state: "open", value: t }, n = jQuery(e.currentTarget).data("settings-sub-trigger"); void 0 !== n && "" !== n && (s.class = i, s.type = "ld_setting_select_sub_changed_early", jQuery(".sfwd_options ." + n).length && (s.state = "closed", jQuery(".sfwd_options ." + n).each(function (e, t) { jQuery(t).slideUp("fast", function () { jQuery(t).removeClass("ld-settings-sub-state-open"), jQuery(t).addClass("ld-settings-sub-state-closed"), jQuery(".sfwd_options").trigger({ type: s.type, ld_trigger_data: s }) }) })), "" !== t && jQuery(".sfwd_options ." + n).length && (s.class = n, jQuery(".sfwd_options").trigger({ type: s.type, ld_trigger_data: s }), s.type = "ld_setting_switch_sub_changed_late", s.state = "open", jQuery(".sfwd_options ." + n).slideDown(500, function () { jQuery(".sfwd_options ." + n).removeClass("ld-settings-sub-state-closed"), jQuery(".sfwd_options ." + n).addClass("ld-settings-sub-state-open"), jQuery(".sfwd_options").trigger({ type: s.type, ld_trigger_data: s }) }))); var i = jQuery(e.currentTarget).data("settings-inner-trigger"); if (void 0 !== i && "" !== i) { s.class = i; var a = jQuery(e.currentTarget).parents(".sfwd_option_div")[0]; void 0 !== a && jQuery(".ld-settings-inner-state-open", a).each(function (e, t) { jQuery(t).slideUp("fast", function () { jQuery(t).removeClass("ld-settings-inner-state-open"), jQuery(t).addClass("ld-settings-inner-state-closed"), s.type = "ld_setting_switch_sub_changed_late", s.state = "closed", jQuery(".sfwd_options").trigger({ type: "ld_setting_select_changed_early", ld_trigger_data: s }) }) }), i = i + "_" + t, jQuery(".sfwd_options ." + i).length && (s.type = "ld_setting_switch_inner_changed_early", s.state = "open", jQuery(".sfwd_options").trigger({ type: s.type, ld_trigger_data: s }), s.type = "ld_setting_switch_inner_changed_late", jQuery(".sfwd_options ." + i).slideDown(500, function () { jQuery(".sfwd_options ." + i).removeClass("ld-settings-inner-state-closed"), jQuery(".sfwd_options ." + i).addClass("ld-settings-inner-state-open"), jQuery(".sfwd_options").trigger({ type: s.type, ld_trigger_data: s }) })) } e.stopPropagation() }) }), jQuery(".sfwd_options input.learndash-section-field-radio").length && jQuery(".sfwd_options input.learndash-section-field-radio").each(function (e, t) { jQuery(t).click(function (e) { var s = jQuery(e.currentTarget).parents("fieldset")[0]; void 0 !== s && jQuery(".ld-settings-inner-state-open", s).each(function (e, t) { jQuery(t).slideUp("fast", function () { jQuery(t).removeClass("ld-settings-inner-state-open"), jQuery(t).addClass("ld-settings-inner-state-closed"), jQuery(".sfwd_options").trigger({ type: "ld_setting_radio_changed_early", ld_trigger_data: { type: "ld_setting_changed", element: t, class: "", state: "unchecked" } }) }) }); var n = jQuery(t).data("settings-inner-trigger"); if (void 0 !== n && jQuery(".sfwd_options ." + n).length) { checked_state = "unchecked", jQuery(e.currentTarget).is(":checked") && (checked_state = "checked"); var i = { type: "ld_setting_radio_inner_changed_early", element: e.currentTarget, class: n, state: checked_state }; jQuery(".sfwd_options").trigger({ type: "ld_setting_changed_early", ld_trigger_data: i }), i.type = "ld_setting_radio_inner_changed_later", "checked" === checked_state ? jQuery(".sfwd_options ." + n).slideDown(500, function () { jQuery(".sfwd_options ." + n).removeClass("ld-settings-inner-state-closed"), jQuery(".sfwd_options ." + n).addClass("ld-settings-inner-state-open"), jQuery(".sfwd_options").trigger({ type: i.type, ld_trigger_data: i }) }) : jQuery(".sfwd_options ." + n).slideUp(400, function () { jQuery(".sfwd_options ." + n).removeClass("ld-settings-inner-state-open"), jQuery(".sfwd_options ." + n).addClass("ld-settings-inner-state-closed"), jQuery(".sfwd_options").trigger({ type: i.type, ld_trigger_data: i }) }) } e.stopPropagation() }) }), jQuery(".sfwd_options #resultList li .expand-arrow").length && jQuery(".sfwd_options #resultList li .expand-arrow").each(function (e, t) { jQuery(t).click(function (e) { var t = jQuery(e.currentTarget).parents("li"); if (void 0 !== t) { var s = jQuery(".resultEditor", t); void 0 !== s && (jQuery(e.currentTarget).hasClass("expand-arrow-down") ? (jQuery(e.currentTarget).addClass("expand-arrow-up"), jQuery(e.currentTarget).removeClass("expand-arrow-down"), jQuery(s).slideDown(400)) : (jQuery(e.currentTarget).addClass("expand-arrow-down"), jQuery(e.currentTarget).removeClass("expand-arrow-up"), jQuery(s).slideUp(500))) } }) }); var e = {}; if (jQuery("body.post-type-sfwd-lessons .sfwd_options").length && (e = { "learndash-lesson-display-content-settings_lesson_video_enabled": "", "learndash-lesson-display-content-settings_lesson_assignment_upload": "", "learndash-lesson-display-content-settings_forced_lesson_time_enabled": "" }, t()), jQuery("body.post-type-sfwd-topic .sfwd_options").length) { e = { "learndash-topic-display-content-settings_lesson_video_enabled": "", "learndash-topic-display-content-settings_lesson_assignment_upload": "", "learndash-topic-display-content-settings_forced_lesson_time_enabled": "" }; t() } function t() { var t = 0; jQuery.isEmptyObject(e) || (jQuery.each(e, function (s, n) { jQuery(".sfwd_options input#" + s).length && (jQuery(".sfwd_options input#" + s).is(":checked") ? (e[s] = !0, t += 1) : e[s] = !1) }), t > 0 ? jQuery.each(e, function (e, t) { !0 !== t && (jQuery("#" + e).attr("disabled", "disabled"), jQuery("#" + e).parent(".ld-switch").addClass("-disabled")) }) : jQuery.each(e, function (e, t) { !0 !== t && (jQuery("#" + e).attr("disabled", !1), jQuery("#" + e).parent(".ld-switch").removeClass("-disabled")) })) } function s(e) { var t = e.data("input-config"); if (void 0 === t) { if ((t = {}).input_min = e.attr("min"), void 0 === t.input_min && (t.input_min = ""), t.input_max = e.attr("max"), void 0 === t.input_max && (t.input_max = ""), t.input_step = e.attr("step"), void 0 === t.input_step && (t.input_step = ""), t.can_decimal = e.attr("can_decimal"), void 0 !== t.can_decimal && "" !== t.can_decimal ? ("true" === t.can_decimal ? t.can_decimal = 2 : t.can_decimal = parseInt(t.can_decimal.toString()), "" === t.can_decimal && (t.can_decimal = !1)) : t.can_decimal = !1, t.can_empty = e.attr("can_empty"), void 0 === t.can_empty || "true" !== t.can_empty && "1" !== t.can_empty ? t.can_empty = !1 : t.can_empty = !0, "" === t.input_step && "" === t.input_min && "" === t.input_max) return !1; t.can_decimals > 0 ? ("" !== t.input_min && (t.input_min = parseFloat(t.input_min)), "" !== t.input_max && (t.input_max = parseFloat(t.input_max)), "" !== t.input_step && (t.input_step = parseFloat(t.input_step))) : ("" !== t.input_min && (t.input_min = parseInt(t.input_min)), "" !== t.input_max && (t.input_max = parseInt(t.input_max)), "" !== t.input_step && (t.input_step = parseInt(t.input_step))), e.data("input-config", t) } return t } jQuery(".sfwd_options").on("ld_setting_switch_changed_early", function (e) { t() }), jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_course").change(function () { null == window.sfwd_topic_lesson && (window.sfwd_topic_lesson = jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_lesson").val()); var e = { action: "select_a_lesson", course_id: jQuery(this).val() }; if (jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_lesson").length) { var t = jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_lesson").data("ld_selector_nonce"); void 0 !== t && (e.ld_selector_nonce = t); var s = jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_lesson").data("ld_selector_default"); void 0 !== s && (e.ld_selector_default = s), jQuery.post(ajaxurl, e, function (e) { window.response = e, html = "", jQuery.each(e.opt, function (e, t) { "" != t.key && "0" != t.key && (selected = t.key == window.sfwd_topic_lesson ? "selected=selected" : "", html += "<option value='" + t.key + "' " + selected + ">" + t.value + "</option>") }), jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_lesson").html(html) }, "json") } }), jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_course").change(function () { null == window.sfwd_quiz_lesson && (window.sfwd_quiz_lesson = jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_lesson").val()); var e = { action: "select_a_lesson_or_topic", course_id: jQuery(this).val() }; if (jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_lesson").length) { var t = jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_lesson").data("ld_selector_nonce"); void 0 !== t && (e.ld_selector_nonce = t); var s = jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_lesson").data("ld_selector_default"); void 0 !== s && (e.ld_selector_default = s), jQuery.post(ajaxurl, e, function (e) { window.response = e, html = "", jQuery.each(e.opt, function (e, t) { "" != t.key && "0" != t.key && (selected = t.key == window.sfwd_quiz_lesson ? "selected=selected" : "", html += "<option value='" + t.key + "' " + selected + ">" + t.value + "</option>") }), jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_lesson").html(html) }, "json") } }), jQuery("select#learndash-quiz-progress-settings_quizRunOnceType").length && (jQuery("select#learndash-quiz-progress-settings_quizRunOnceType").change(function () { 2 == jQuery(this).val() ? jQuery("#learndash-quiz-progress-settings_quizRunOnceCookie_field").hide() : jQuery("#learndash-quiz-progress-settings_quizRunOnceCookie_field").show() }), jQuery("select#learndash-quiz-progress-settings_quizRunOnceType").change()), jQuery(".sfwd_options select#learndash_settings_courses_themes_active_theme").length && jQuery(".sfwd_options select#learndash_settings_courses_themes_active_theme").each(function (e, t) { jQuery(t).change(function (e) { var t = jQuery(e.currentTarget).val(); jQuery(".sfwd_options .ld-theme-settings-section-state-open").slideUp(500, function () { jQuery(this).removeClass("ld-theme-settings-section-state-open"), jQuery(this).addClass("ld-theme-settings-section-state-closed") }), "" !== t && jQuery(".sfwd_options .ld-theme-settings-section-" + t).slideDown(500, function () { jQuery(this).removeClass("ld-theme-settings-section-state-closed"), jQuery(this).addClass("ld-theme-settings-section-state-open") }), e.stopPropagation() }) }), jQuery('.sfwd_options input[name="templateLoad"]').length && jQuery('.sfwd_options input[name="templateLoad"]').click(function () { if (jQuery('.sfwd_options select[name="templateLoadId"]').length) { var e = jQuery('.sfwd_options select[name="templateLoadId"]').val(); "" != e && (window.location.href = e) } return !1 }); var n = {}; function i(e, t) { if (jQuery(e).length) { var s = jQuery(e).parents(".sfwd_input"); if (void 0 !== s) { var i = jQuery(s).attr("id"); if (!0 === t) { if (void 0 === n[i]) { var a = jQuery(".sfwd_option_label label", s).html(); if (void 0 !== a) { var r = jQuery(e).next(".learndash-section-field-error").html(); n[i] = void 0 !== r ? a.trim() + " - " + r : a.trim() } } jQuery(s).addClass("learndash_settings_field_invalid"), jQuery(s).find(".learndash-section-field-error").show() } else void 0 !== n[i] && delete n[i], jQuery(s).removeClass("learndash_settings_field_invalid"), jQuery(s).find(".learndash-section-field-error").hide() } } !function () { if (!jQuery("#learndash-settings-fields-notice-errors").length) { if (void 0 === learndash_admin_settings_data.admin_notice_settings_fields_errors_container) return; jQuery(learndash_admin_settings_data.admin_notice_settings_fields_errors_container).insertAfter("hr.wp-header-end") } if (jQuery("#learndash-settings-fields-notice-errors").length) { for (var e = jQuery("#learndash-settings-fields-notice-errors"), t = Object.keys(n), s = "", i = 0; i < t.length; i++) { var a = t[i], r = n[a]; "" !== r && (s += "<li>" + r + "</li>") } jQuery("ul.errors-list", e).html(s), t.length > 0 ? e.show() : e.hide() } }() } jQuery('.sfwd_options input[type="number"]').length && jQuery('.sfwd_options input[type="number"]').each(function (e, t) { jQuery(t).on("keypress", function (e) { var t = s(jQuery(e.currentTarget)); if (!1 !== t) { var n = e.which ? e.which : e.keyCode, a = String.fromCharCode(n), r = e.currentTarget.valueAsNumber; return "." === a ? void 0 === r || isNaN(r) ? (i(e.currentTarget, !0), e.preventDefault(), !1) : !1 === t.can_decimal ? (e.preventDefault(), !1) : (i(e.currentTarget, !1), !0) : "-" === a ? void 0 !== t.input_min && "" !== t.input_min && t.input_min < 0 || (e.preventDefault(), !1) : void 0 !== t.input_max && "" !== t.input_max && r > t.input_max ? (i(e.currentTarget, !0), e.preventDefault(), !1) : void 0 !== t.input_min && "" !== t.input_min && r < t.input_min ? (i(e.currentTarget, !0), e.preventDefault(), !1) : n < 48 || n > 57 ? (e.preventDefault(), !1) : (i(e.currentTarget, !1), !0) } }), jQuery(t).on("invalid", function (e) { jQuery(e.currentTarget).length && (i(e.currentTarget, !0), e.preventDefault()) }), jQuery(t).on("input", function (e) { if (jQuery(e.currentTarget).length) { var t = s(jQuery(e.currentTarget)); if (!1 === t) return; var n = e.currentTarget.valueAsNumber; if (void 0 === n) return i(e.currentTarget, !0), !1; if (t.can_empty && isNaN(n)) return i(e.currentTarget, !1), !0; if (isNaN(n)) return i(e.currentTarget, !0), !1; if (void 0 !== t.input_max && "" !== t.input_max && n > t.input_max) return i(e.currentTarget, !0), !1; if (void 0 !== t.input_min && "" !== t.input_min && n < t.input_min) return i(e.currentTarget, !0), !1; if (void 0 !== t.can_decimal && !1 !== t.can_decimal && (input_value_current_split = n.toString().split("."), input_value_current_split.length > 1 && input_value_current_split[1].length > t.can_decimal)) { var a = n.toFixed(t.can_decimal); a !== n && jQuery(e.currentTarget).val(a) } i(e.currentTarget, !1) } }) }) }), document.addEventListener("DOMContentLoaded", function () { const e = document.querySelectorAll(".ld-metabox-description"); Array.prototype.forEach.call(e, e => { e.parentNode.previousElementSibling.appendChild(e) }) });